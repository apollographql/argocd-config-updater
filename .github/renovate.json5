{
  extends: [
    'apollo-open-source',
    'group:monorepos',
    'group:jestPlusTSJest',
    'group:jestPlusTypes',
  ],
  // Override this value set in apollo-open-source back to the default.
  // It's nice to be able to see PRs for everything in the Dependency Dashboard.
  prCreation: 'immediate',
  dependencyDashboard: true,
  // Override automerge set in apollo-open-source, as this is deployment infrastructure.
  automerge: false,
  packageRules: [
    // Bunch up all non-major dependencies into a single PR.  In the common case
    // where the upgrades apply cleanly, this causes less noise and is resolved faster
    // than starting a bunch of upgrades in parallel for what may turn out to be
    // a suite of related packages all released at once.
    {
      groupName: 'all non-major dependencies',
      matchUpdateTypes: ['patch', 'minor'],
      groupSlug: 'all-minor-patch',
    },
    // TypeScript minor versions don't follow semver, and typically require a few changes on our end to take the upgrade. Break them out from the all-minor-patch group so they don't block other upgrades.
    {
      groupName: 'typescript',
      matchPackageNames: ['typescript'],
      matchUpdateTypes: ['minor'],
    },
  ],
}
